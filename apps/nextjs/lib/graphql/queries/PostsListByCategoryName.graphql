# SPDX-FileCopyrightText: 2023 Temple University <kleinweb@temple.edu>
# SPDX-License-Identifier: GPL-3.0-or-later

#import "../fragments/MediaImage.gql"

query PostsListByCategoryName(
  $categoryName: String!
  $first: Int = 10
  $after: String
) {
  posts(
    first: $first
    after: $after
    where: {categoryName: $categoryName, orderby: {field: DATE, order: DESC}}
  ) {
    pageInfo {
      hasNextPage
      endCursor
    }
    nodes {
      id
      uri
      title
      date
      featuredImage {
        node {
          ...MediaItemFields
        }
      }
    }
  }
}
